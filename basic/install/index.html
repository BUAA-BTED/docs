
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../../assets/favicon.png" rel="icon"/>
<meta content="mkdocs-1.3.0, mkdocs-material-8.2.9" name="generator"/>
<title>上手开局指南 - 电子设计基础训练硬件文档</title>
<link href="../../assets/stylesheets/main.120efc48.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.9647289d.min.css" rel="stylesheet"/>
<meta content="#000000" name="theme-color"/>
<link href="../../lib/highlight.js/styles/default.min.css" rel="stylesheet"/>
<link href="../../lib/katex/katex.min.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="deep-orange" data-md-color-primary="black" data-md-color-scheme="" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#_1">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="电子设计基础训练硬件文档" class="md-header__button md-logo" data-md-component="logo" href="../.." title="电子设计基础训练硬件文档">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 17H7V7h10m4 4V9h-2V7a2 2 0 0 0-2-2h-2V3h-2v2h-2V3H9v2H7c-1.11 0-2 .89-2 2v2H3v2h2v2H3v2h2v2a2 2 0 0 0 2 2h2v2h2v-2h2v2h2v-2h2a2 2 0 0 0 2-2v-2h2v-2h-2v-2m-6 2h-2v-2h2m2-2H9v6h6V9Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            电子设计基础训练硬件文档
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              上手开局指南
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
      欢迎
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../esp32-core/">
        基础文档
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../reference/hardware-ref/">
        参考资料
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="电子设计基础训练硬件文档" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="电子设计基础训练硬件文档">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 17H7V7h10m4 4V9h-2V7a2 2 0 0 0-2-2h-2V3h-2v2h-2V3H9v2H7c-1.11 0-2 .89-2 2v2H3v2h2v2H3v2h2v2a2 2 0 0 0 2 2h2v2h2v-2h2v2h2v-2h2a2 2 0 0 0 2-2v-2h2v-2h-2v-2m-6 2h-2v-2h2m2-2H9v6h6V9Z"></path></svg>
</a>
    电子设计基础训练硬件文档
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        欢迎
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
          基础文档
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="基础文档" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          基础文档
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../esp32-core/">
        ESP32 核心板
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          上手开局指南
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        上手开局指南
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#arduino-ide">
    安装 Arduino IDE
  </a>
<nav aria-label="安装 Arduino IDE" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#windows">
    Windows
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#macos">
    MacOS
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#or">
    其他系统 or 最新版本
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#esp32">
    添加 ESP32 开发板
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#getchipid">
    编译并上传 GetChipID 示例程序
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../get-started/">
        板载功能一览
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          参考资料
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="参考资料" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          参考资料
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/hardware-ref/">
        硬件参考资料
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/software-ref/">
        软件参考资料
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#arduino-ide">
    安装 Arduino IDE
  </a>
<nav aria-label="安装 Arduino IDE" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#windows">
    Windows
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#macos">
    MacOS
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#or">
    其他系统 or 最新版本
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#esp32">
    添加 ESP32 开发板
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#getchipid">
    编译并上传 GetChipID 示例程序
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="_1">上手开局指南</h1>
<h2 id="arduino-ide">安装 Arduino IDE</h2>
<p>Arduino IDE 集成了编辑器、工具链管理、库管理、开发板管理和串口调试助手，适合于初学者。由于<strong>缺少</strong>代码补全和智能感知功能，我们推荐使用 VSCode + PlatformIO 作为进阶使用。</p>
<p><img alt="IMG" src="../assets/Arduino-IDE-Blink.png"/></p>
<p>Arduino IDE 是跨平台软件，支持 Windows、MacOS 和 Linux。</p>
<h3 id="windows">Windows</h3>
<p>下载 Arduino IDE 的安装包后，按照安装指引即可完成安装。</p>
<ul>
<li><a href="https://downloads.arduino.cc/arduino-1.8.19-windows.exe" target="_blank">1.8.19 官网直链</a></li>
<li><a href="https://bhpan.buaa.edu.cn:443/link/934A79B7E24422D8D5CA05A22EF906D2" target="_blank">1.8.19 北航云盘</a></li>
</ul>
<h3 id="macos">MacOS</h3>
<p>下载的压缩包解压得到 Arduino 应用，将其移动到 <code>应用程序</code> 目录下即可。</p>
<ul>
<li><a href="https://downloads.arduino.cc/arduino-1.8.19-macosx.zip" target="_blank">1.8.19 官网直链</a></li>
<li><a href="https://bhpan.buaa.edu.cn:443/link/934A79B7E24422D8D5CA05A22EF906D2" target="_blank">1.8.19 北航云盘</a></li>
</ul>
<h3 id="or">其他系统 or 最新版本</h3>
<p>请前往 <a href="https://www.arduino.cc/en/software" target="_blank">官网</a> 自行下载。</p>
<div class="admonition info">
<p>截止 2022 年 4 月 7 日，Arduino IDE 最新的稳定版本为 <code>1.8.19</code></p>
</div>
<h2 id="esp32">添加 ESP32 开发板</h2>
<p>Arduino IDE 默认不包含 ESP32 单片机，我们需要给它添加。</p>
<ol>
<li>
<p>在菜单栏依次选择 <code>文件</code>-<code>首选项</code>，打开首选项配置界面：</p>
<p><img alt="IMG" src="../assets/arduino-add-esp32-1.jpg"/></p>
<p>在附加开发板管理器网址内填写 <code>http://10.134.118.207:8008/esp32.json</code> ，然后点击 <code>好</code>。</p>
<div class="admonition warning">
<p class="admonition-title">此链接为校内镜像</p>
<p>网络上其他的教程一般会要求在此输入乐鑫官网的下载地址 <code>https://dl.espressif.com/dl/package_esp32_index.json</code>，但它要求从 Github 下载文件，在国内有连接不稳定的问题。因此我们搭建了校内镜像以减少大家的麻烦，同时也需要注意：<strong>镜像链接在校外是无法工作的</strong>。</p>
</div>
</li>
<li>
<p>在菜单栏依次选择 <code>工具</code>-<code>开发板</code>-<code>开发板管理器</code>，搜索 <code>ESP32</code> 可以看到一个条目，点击<code>安装</code>：</p>
<p><img alt="IMG" src="../assets/arduino-add-esp32-2.jpg"/></p>
<p><img alt="IMG" src="../assets/arduino-add-esp32-3.jpg"/></p>
</li>
<li>
<p>在菜单栏依次选择 <code>工具</code>-<code>开发板</code>，选择 <code>ESP32 Arduino</code>-<code>ESP32 Dev Module</code> 为开发板：</p>
<p><img alt="IMG" src="../assets/arduino-add-esp32-4.jpg"/></p>
</li>
</ol>
<h2 id="getchipid">编译并上传 GetChipID 示例程序</h2>
<p>为了测试我们的环境是否已经配置正确，我们可以使用 Arduino IDE 自带的示例程序来快速验证。</p>
<ol>
<li>
<p><strong>打开示例程序</strong>：在菜单栏依次选择 <code>示例</code>-<code>ESP32</code>-<code>ChipID</code>-<code>GetChipID</code>：</p>
<p><img alt="IMG" src="../assets/arduino-esp32-getchipid.jpg"/></p>
</li>
<li>
<p><strong>使用 USB 线缆将开发板联机</strong>：</p>
<p><img alt="IMG" src="../assets/esp32-io0-button.png"/></p>
</li>
<li>
<p><strong>设置上传端口号</strong>：</p>
<p>通过 USB 线与电脑相连后，系统会给核心板分配一个端口号。在 Windows 上，可以通过<strong>设备管理器</strong>（在 Win10 下右键开始菜单图标可以看到）查看这个端口号，比如 <code>(COM6</code>；在 Linux 或 MacOS 上，可以通过 <code>ls /dev/tty</code> 命令，来查看所有的串口，并从中选择形如 <code>tty.usbserial</code> 的串口。</p>
<p><img alt="IMG" src="../assets/arduino-select-port-win.png"/></p>
<div class="admonition info">
<p class="admonition-title">串口名称</p>
<p>核心板板载 <code>CP2102</code> USB 转串口芯片，因此载设备管理器中的名字为 <code>CP210x USB to UART</code>。如果没有发现这个设备：</p>
<ol>
<li>请检查线缆是否连接正确，重新插拔一次；</li>
<li>核心板上是否有 LED 点亮，如不亮说明没有供电或板子坏；</li>
<li>没有安装 CP2102 驱动，设备管理器中显示 <mark>黄色</mark> 感叹号，请 <a href="https://www.silabs.com/documents/public/software/CP210x_Windows_Drivers.zip" target="_blank">点击此处下载</a> 并安装。</li>
</ol>
</div>
</li>
<li>
<p><strong>点击上传按钮</strong>：</p>
<p><img alt="IMG" src="../assets/arduino-esp32-upload.jpg"/></p>
<p>Arduino IDE 会自动编译程序并上传到选定端口的 ESP32 上，核心板内置自动复位电路，但<strong>由于我们的失误，在一部分电脑上无法自动上传</strong>，如果出现一长串的 <code>____.....____</code> 还没有出现下载进度，请 <mark>按住</mark> IO0 直到出现下载进度，从而手动上传。</p>
<div class="admonition bug">
<p class="admonition-title">快速操作的办法</p>
<p>当 Arduino IDE 下方深色背景的窗口中刚显示 <code>Connecting....</code> 时，就 <mark>按下 IO0 按键</mark> ，这样就能<strong>最快地</strong>出现上传进度。</p>
</div>
<p>我们注意到，在程序中有一行：</p>
<pre class="highlight"><code class="language-c++">Serial.begin(115200);</code></pre>
<p>其含义是使串口初始化，波特率设置为 115200。</p>
</li>
<li>
<p><strong>打开串口监视器查看结果</strong>：</p>
<p>上传完毕后，在 Arduino IDE 的右上角，有一个放大镜图标的按钮，即“串口监视器”，能显示核心板通过串口发送的数据，也能向它发送数据。</p>
<p>在窗口的右下角，必须设置准确的<strong>波特率</strong>才能显示正确的信息，否则数据会显示为乱码。调整的方法和调整完毕后预期的结果如下图所示：</p>
<p><img alt="IMG" src="../assets/arduino-serial-monitor.png"/></p>
<p>如果打开串口无任何显示，请按下核心板上的<strong>复位键</strong>，即 <em>EN </em>按键。</p>
<div class="admonition info">
<p class="admonition-title">为什么不建议使用 <code>9600</code></p>
<p>既然硬件波特率和监视器波特率都可以设置，将波特率设置为 <code>9600</code> 可以省一步手动设置，这也是 AVR 版本 Arduino 的管理。但使用 <code>115200</code> 有非常多 <ins>难以拒绝</ins> 的好处：
1. 10 倍的传输速度提升，提高代码运行速度；
2. ESP32 打印<strong>系统错误信息</strong>时，使用固定波特率 <code>115200</code>，（其实 ESP32 的 Arduino 背后，是一个 FreeRTOS 的实时操作系统，详见 <a href="https://docs.espressif.com/projects/esp-idf/zh_CN/latest/esp32/index.html">ESP-IDF</a> ）。</p>
</div>
<p>可以看到这个示例程序的功能即通过串口打印 ESP32 的芯片唯一 ID，<strong>到此开局成功！</strong></p>
</li>
</ol>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" data-md-state="hidden" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            Back to top
          </a>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: ESP32 核心板" class="md-footer__link md-footer__link--prev" href="../esp32-core/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              ESP32 核心板
            </div>
</div>
</a>
<a aria-label="Next: 板载功能一览" class="md-footer__link md-footer__link--next" href="../get-started/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              板载功能一览
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © 2022 BTED 课程组
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.top"], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.6e54b5cd.min.js"></script>
<script src="../../lib/iframe-resizer/iframeResizer.min.js"></script>
<script src="../../lib/highlight.js/highlight.min.js"></script>
<script src="../../lib/katex/katex.min.js"></script>
<script src="../../lib/katex/contrib/auto-render.min.js"></script>
<script src="../../lib/wavedrom/skin-default.js"></script>
<script src="../../lib/wavedrom/wavedrom-2.6.8.js"></script>
<script src="../../lib/config.js"></script>
</body>
</html>